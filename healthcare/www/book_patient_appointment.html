{% extends "frappe/templates/web.html" %}

{% block content %}
{{ include_style('healthcare-web.bundle.css') }}
<section class="">
	<body>
		<div class="col-sm-12 full-section c-section">
		<div class="col-sm-12">
			<ul class="breadcrumb">
				<li><a href="/" style="color:black;" >Home</a> > </li>
				<li><a href="/departments" style="color:black;">&nbsp;Departments</a> > </li>
				<li><a href="/practitioners" style="color:black;">&nbsp;Practitioner</a> > </li>
				<li style="color:rgb(175, 173, 173);">&nbsp;Book Appointment</a></li>
			  </ul>
		</div>
		<div class="text-center mt-5">
				<p class="lead text-muted" id="head">Choose date and timezone to book your slot</p>
					{% if pract_details['image'] %}
						<img class="patient-app-img" src="{{ pract_details['image'] }}" onerror="this.style.display='none';">
					{% endif %}
					{% if pract_details['practitioner_name'] %}
						<div class="" id="head"><b>{{pract_details['practitioner_name']}}</b>
							<p class="appointment-dep" >{{pract_details['department']}}</p>
						</div>
					{% endif %}
		</div>
		<div class="row justify-content-center mt-3">
			<div class="col-md-6 align-self-center ">
				<div class="row">
					<select name="appointment-timezone" oninput="on_date_or_timezone_select()" id="appointment-timezone"
						class="form-control m-3 col-md">
					</select>
					<input type="date" oninput="on_date_or_timezone_select()" name="appointment-date" min={{min_day}}
						max = {{max_day}} id="appointment-date" class="form-control mt-3 col-md m-3">
				</div>
			</div>
		</div>
		<div class="row justify-content-center mt-3" style="padding-bottom: 20px;">
			<div class="col-md-3 align-self-center ">
				<div class="appointment-dep text-muted" >Booking For</div>
				<select name="patient-list" id="patient-list"
					class="form-control col-md" oninput="on_date_or_timezone_select()">
					{% if patients|length > 1 %}
						<option value="" disabled selected>Select Patient</option>
						{% for pat in patients %}
							<option value="{{pat.patient}}">{{pat.full_name}}</option>
						{% endfor %}
					{% elif patients|length == 1 %}
						<option value="{{patients[0].patient}}">{{patients[0].full_name}}</option>
					{% endif %}
				</select>
			</div>
		</div>
	<div class="col-sm-12" id="slot_container" style="text-align: center;"></div>
	<div class="row justify-content-center mt-3">
		<div class="col-md-4 mb-3">
			<button class="btn btn-primary form-control" id="book-button">Book</button>
		</div>
	</div>
</div>
	  </body>
</section>
<script>
	var selected_practitioner = "{{ practitioner }}";
	var max_days = "{{max_days}}"
	var patient_list = "{{patients}}"
	// var multiple_patients = "{{multiple_patients}}"
</script>

{% endblock %}